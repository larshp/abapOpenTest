export class ObjectsPage {
  constructor(project, run) {
    this.project = project;
    this.run = run;
  }

  renderList(objects) {
    let result = "todo: sorting<table>" +
      "<tr>" + 
      "<td><u>Name</u></td>" + 
      "<td><u>Type</u></td>" + 
      "<td><u>Package</u></td>" + 
      "<td><u>Skipped</u></td>" + 
      "<td><u>Tests</u></td>" + 
      "<td><u>Runtime</u></td></tr>";

    for(let object of objects) {
      let to = "projects/" + this.project + "/runs/" + this.run + "/objects/" + object.OBJECT_TYPE + "/" + object.OBJECT_NAME;

      result = result + 
        "<tr>" +
        "<td>" + Router.link(to, object.OBJECT_NAME) + "</td>" +
        "<td>" + object.OBJECT_TYPE + "</td>" +
        "<td>" + object.DEVCLASS + "</td>" +
        "<td>" + object.HAS_SKIPPED_TESTS + "</td>" +
        "<td>" + object.HAS_TESTS + "</td>" +
        "<td align='right'>" + object.RUNTIME + "</td>" +
        "</tr>";
    }
    result = result + "</table>";
    return result;
  }

  render() {
    let result = "<h1>Objects</h1>" + REST.listObjects(this.project, this.run, this.renderList.bind(this));
    return result;
  }
}

