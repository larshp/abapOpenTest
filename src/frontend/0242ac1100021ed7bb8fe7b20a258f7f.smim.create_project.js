export class CreateProjectPage {
  constructor() {
    window.CreateProjectPage = {};
    window.CreateProjectPage.callback = this.callback.bind(this);
  }

  created() {
    alert("project created");
  }

  callback() {
    REST.createProject(
      document.getElementById("name").value,
      document.getElementById("package").value,
      document.getElementById("risk_level").value,
      document.getElementById("duration").value,
      this.created.bind(this));
  }

  render() {
    let result = "<h1>Create Project</h1>" +
      "<table>" + 
      "<form id=\"createForm\">" +
      "<tr><td>Name:</td><td><input type=\"text\" id=\"name\" maxlength=\"20\" required></td></tr>" +
      "<tr><td>Package:</td><td><input type=\"text\" id=\"package\" maxlength=\"30\" required></td></tr>" +
      "<tr><td>Risk Level:</td><td><select id=\"risk_level\">" +
      "<option value=\" 11\" selected>Harmless</option>" +
      "<option value=\" 22\">Dangerous</option>" +
      "<option value=\" 33\">Critical</option>" +
      "</select></td></tr>" +
      "<tr><td>Duration:</td><td><select id=\"duration\">" +
      "<option value=\" 12\" selected>Short</option>" +
      "<option value=\" 24\">Medium</option>" +
      "<option value=\" 36\">Long</option>" +
      "</select></td></tr>" +
      "<tr><td colspan=\"2\" align=\"right\"><input type=\"submit\" value=\"Create\" onClick=\"window.CreateProjectPage.callback();return false;\"/></td></tr>" +
      "</form>" + 
      "</table>";

    return result;
  }
}

